## ----- Shop Task ----------------------------------------------------------------------
## various tasks for managing shops
*:/sp = call_alias('/shops')
*:/shops [$task] [$var1] [$var2] [$var3=null] [$]= >>>

       
    switch(to_lower($task)) {
        array('help', 'info'),
            if(has_permission(player(), 'commandhelper.alias.builder')) {
                msg('')
                msg(concat(_chatFormat('4', 'Shops', 'd', 'Help', 'f'), 'Full documentation can be found at,'))
                msg(concat(_chatFormat('4', 'Shops', 'd', 'GitHub', 'f'), 'http://goo.gl/0D90k'))
            }
        ,
        array('register', 'reg'),
            if(has_permission(player(), 'commandhelper.alias.manager') || has_permission(player(), 'icmd.override.shops.register')) {
                _shopActionsRegister(to_lower($var1), $var2, $var3 $, player(), ploc(player())[3])
            } else { 
                die(concat(color(c)'[Shops]: You are not permitted to use /shops reg')) 
            }
        ,
        'edit',
            if(has_permission(player(), 'commandhelper.alias.manager') || has_permission(player(), 'icmd.override.shops.edit')) {
                _shopActionsEdit(to_lower($var1), $var2, $var3 $, player(), ploc(player())[3])
            } else { 
                die(concat(color(c)'[Shops]: You are not permitted to use /shops edit')) 
            }
        ,
        array('remove', 'rem'),
            if(has_permission(player(), 'commandhelper.alias.manager') || has_permission(player(), 'icmd.override.shops.remove')) {
                _shopActionsRemove(to_lower($var1), player(), ploc(player())[3])
            } else { 
                die(concat(color(c)'[Shops]: You are not permitted to use /shops remove')) 
            }
        ,
        'list',
            if(has_permission(player(), 'commandhelper.alias.builder') || has_permission(player(), 'icmd.override.shops.list')) {
                _shopActionsList(to_lower($var1), player(), ploc(player())[3])
            } else { 
                die(concat(color(c)'[Shops]: You are not permitted to use /shops list')) 
            }
        ,
        array('initialize', 'init'),
            if(has_permission(player(), 'commandhelper.alias.manager') || has_permission(player(), 'icmd.override.shops.initialize')) {
                _shopActionsInit(to_lower($var1), player(), ploc(player())[3])
            } else { 
                die(concat(color(c)'[Shops]: You are not permitted to use /shops initialize')) 
            }
        ,
        #Case Else:
            msg('')
            msg(concat(_chatFormat('4', 'Shops', 'd', 'Info', 'f'), 'Various commands/tools for shops.'))
            assign(@zones, array())
            if(has_value(concat('shops.list'))) {
                @zones =  get_value(concat('shops.list'))
                if(array_size(@zones) > 0) {
                    msg(concat(color(d), '  Zones:'))
                    msg(concat(color(e), '    ', array_implode(@zones, ' / ')))
                }
            }
            msg(concat(color(d), '  Commands:'))
            msg(concat(color(b), '    /shops list', color(e), ' Summery info on zones in the server.'))
            msg(concat(color(b), '    /shops list <zone>', color(e), ' Summery info on a zone.'))
            #msg(concat(color(b), '    /shops vacant <zone>', color(e), ' Find a vacant shop in a zone.'))
            #msg(concat(color(b), '    /shops tp <shop | zone>', color(e), ' Teleport to a shop or zone.'))
            if(has_permission(player(), 'commandhelper.alias.manager') || has_permission(player(), 'icmd.override.shops.more')) {
                msg('')
                msg(concat(color(d), '  Manage Shops:', color(7), ' Manager+ commands'))
                msg(concat(color(b), '    /shops reg', color(e), ' Register a licence to a shop zone.'))
                msg(concat(color(b), '    /shops initialize', color(e), ' Initialize micro regions (the shops).'))
                msg(concat(color(b), '    /shops edit', color(e), ' Edit a licence for a shop zone.'))
                msg(concat(color(b), '    /shops remove', color(e), ' Remove a licence from a shop zone.'))
                #msg(concat(color(b), '    /shops create', color(e), ' Create a shop inside a zone.'))
                #msg(concat(color(b), '    /shops purge', color(e), ' Clean out expired/vacant shops in a zone'))
                #msg(concat(color(b), '    /shops dupes', color(e), ' Finds duplicate tenants in a single zone'))
            }
    }
<<<